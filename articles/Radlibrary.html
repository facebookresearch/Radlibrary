<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Radlibrary">
<title> • Radlibrary</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="">
<meta property="og:description" content="Radlibrary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Radlibrary</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/Radlibrary.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/nested_columns.html">Nesting and Flattening</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="dropdown-item" href="https://facebookresearch.github.io/Radlibrary/news/index.html#radlibrary-040">Radlibrary 0.4.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/facebookresearch/Radlibrary/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1></h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/facebookresearch/Radlibrary/blob/HEAD/vignettes/Radlibrary.Rmd" class="external-link"><code>vignettes/Radlibrary.Rmd</code></a></small>
      <div class="d-none name"><code>Radlibrary.Rmd</code></div>
    </div>

    
    
<!-- Copyright (c) Facebook, Inc. and its affiliates.
All rights reserved. -->
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette serves two distinct, but related, purposes:</p>
<ul>
<li><p>To document the steps required to get started with the Facebook
Ad Library API.</p></li>
<li><p>To through getting started with the <code>Radlibrary</code>
package to query, analyze, and visualize data from the Facebook Ad
Library API</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="getting-set-up">Getting Set Up<a class="anchor" aria-label="anchor" href="#getting-set-up"></a>
</h2>
<p>There are three basic steps required to begin used the Facebook Ad
Library API.</p>
<ol style="list-style-type: decimal">
<li>Confirm your identity and location</li>
<li>Create a Facebook Developer account</li>
<li>Add a new app</li>
</ol>
<div class="section level3">
<h3 id="confirm-your-identity-and-location-with-facebook">Confirm your identity and location with Facebook<a class="anchor" aria-label="anchor" href="#confirm-your-identity-and-location-with-facebook"></a>
</h3>
<p>Currently, accessing the Facebook Ads API utilizes the same
verification process that is required to run ads about social issues,
elections or politics. To complete this process, go to <a href="https://www.facebook.com/ID" class="external-link">the ID section of your Facebook
settings</a>. To complete this process, you will need to submit a form
of national identification to confirm your identity. If you haven’t
already confirmed your ID, it typically takes 1-2 days to complete this
step.</p>
<p><strong>Note</strong>: Your identification will need to match your
physical location for verification purposes.</p>
</div>
<div class="section level3">
<h3 id="create-a-facebook-developer-account">Create a Facebook Developer account<a class="anchor" aria-label="anchor" href="#create-a-facebook-developer-account"></a>
</h3>
<p>Visit <a href="https://developers.facebook.com/" class="external-link">Facebook for
Developers</a> and select Get Started to sign up for a developer
account. As part of account creation, you’ll need to agree to our
Platform Policy.</p>
</div>
<div class="section level3">
<h3 id="add-a-new-app">Add a new App<a class="anchor" aria-label="anchor" href="#add-a-new-app"></a>
</h3>
<p>Once you have an account, you’ll need to create a new app. Go to the
<a href="https://developers.facebook.com/tools/explorer/" class="external-link">Explorer
tool</a> and click “Create App” under “My Apps”.</p>
<p><strong>IMPORTANT NOTE ABOUT ACCESS TOKENS</strong> Anyone who
obtains your access token can use it to access your Facebook account
until the token expires. Treat your access token as you would a
password. Avoid putting it in source code, in your command history, and
especially on GitHub or somewhere else online.</p>
</div>
</div>
<div class="section level2">
<h2 id="getting-started-with-radlibrary">Getting Started with <code>Radlibrary</code><a class="anchor" aria-label="anchor" href="#getting-started-with-radlibrary"></a>
</h2>
<p>To get started using the <code>Radlibrary</code> package, you’ll want
to take the following steps:</p>
<ol style="list-style-type: decimal">
<li>Retrieve and store your access token</li>
<li>Build a query</li>
<li>Submit the query</li>
<li>Analyze the results</li>
</ol>
<div class="section level3">
<h3 id="retrieve-and-store-your-access-token-">Retrieve and store your access token.<a class="anchor" aria-label="anchor" href="#retrieve-and-store-your-access-token-"></a>
</h3>
<p>You can find your access token at the <a href="https://developers.facebook.com/tools/explorer/" class="external-link">Graph API
Explorer tool</a>.</p>
<p>Note that this token can only be used for a limited period of time
and will have to be periodically refreshed. If you’d like to use
<code>Radlibrary</code> functionality to generate a persistent token,
see <a href="#generating-persistent-tokens">Generating persistent
tokens</a>. If you do not need a long-term token, you can save your
token to your environment. <strong>Note:</strong> the best way to store
your access token interactively is to use <code>readline</code> and
paste the token at the prompt.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## This will store your access token in your R history—not recommended!</span></span>
<span><span class="va">token</span> <span class="op">&lt;-</span> <span class="st">"PASTED VALUE FROM https://developers.facebook.com/tools/explorer/"</span></span>
<span></span>
<span><span class="co">## better:</span></span>
<span><span class="va">token</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readline.html" class="external-link">readline</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># now paste at the prompt</span></span></code></pre></div>
<p>This way, your access token won’t be stored in your R history.</p>
</div>
<div class="section level3">
<h3 id="build-a-query">Build a query<a class="anchor" aria-label="anchor" href="#build-a-query"></a>
</h3>
<p>Let’s build our first query!</p>
<p>We’ll start with a simple example. Let’s look for all active ads
within the United States that served impressions in the past 90 days and
are related to health care.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">query</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adlib_build_query.html">adlib_build_query</a></span><span class="op">(</span>ad_reached_countries <span class="op">=</span> <span class="st">'US'</span>, </span>
<span>ad_active_status <span class="op">=</span> <span class="st">'ACTIVE'</span>,  </span>
<span>search_terms <span class="op">=</span> <span class="st">"healthcare"</span>,</span>
<span>fields <span class="op">=</span> <span class="st">"ad_data"</span><span class="op">)</span></span></code></pre></div>
<p>There are numerous parameters to the <code>adlib_build_query</code>
function (for more, see <code><a href="../reference/adlib_build_query.html">?adlib_build_query</a></code>). In the above,
we’re passing five parameters:</p>
<ul>
<li>
<code>ad_reached_countries = 'US'</code>: this tells they query we
only want to return ads shown in the United States. Note that the query
submission will fail if you try and submit an ISO country code that you
are not verified for.</li>
<li>
<code>ad_active_status = 'ACTIVE'</code>: this tells they query we
only want to return ads that are currently active.</li>
<li>
<code>impression_condition = 'HAS_IMPRESSIONS_LAST_90_DAYS'</code>:
this tells they query we want to see any ad that has served impressions
in the last 90 days.</li>
<li>
<code>search_terms = "healthcare"</code>: this is the search string
for the query. <strong>Note</strong>: You can only search for single
keywords. For example, you can search “health care,” but the system will
search for these words separately (i.e. “health” and “care”).</li>
<li>
<code>fields = "ad_data"</code>: this is the fields to include in
the response. In this example, we’re looking strictly at ad data. We
could also search for aggregated data related to regional delivery or
demographics.</li>
</ul>
</div>
<div class="section level3">
<h3 id="submit-a-query">Submit a query<a class="anchor" aria-label="anchor" href="#submit-a-query"></a>
</h3>
<p>Let’s submit the query from the previous section for analysis.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">response</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adlib_get.html">adlib_get</a></span><span class="op">(</span>params <span class="op">=</span> <span class="va">query</span>, token <span class="op">=</span> <span class="va">token</span><span class="op">)</span></span></code></pre></div>
<p>The <code><a href="../reference/adlib_get.html">adlib_get()</a></code> requires a query and a token. It will
return an object type of <code>adlib_data_response</code> which contains
ad data for up to 1,000 rows matching the query parameters. Do you need
to retrieve more than 1,000 rows? If so, check out the <a href="#pagination">Pagination</a> section.</p>
<p>This data object has numerous metadata attributes:</p>
<ul>
<li>
<code>date</code>: the time stamp of the query submission</li>
<li>
<code>has_next</code>: A Boolean value indicating whether there are
still pages available after the current search returned (see section on
pagination below)</li>
<li>
<code>next_page</code>: The URL to call the next page of
responses</li>
<li>
<code>fields</code>: the fields available in the query</li>
<li>
<code>data</code>: the data returned.</li>
</ul>
</div>
<div class="section level3">
<h3 id="analyze-the-results">Analyze the results<a class="anchor" aria-label="anchor" href="#analyze-the-results"></a>
</h3>
<p>You can convert your results into a <code>tibble</code> using
<code>as_tibble</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results.tibble</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">response</span>, censor_access_token <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>This will transform the information stored in <code>data</code> and
in <code>fields</code> from your <code>adlib_data_response</code> into a
tidy data frame (i.e., a tibble) for analysis. The example content below
from the above:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">results.tibble</span><span class="op">)</span></span>
<span><span class="co">#  A tibble: 6 x 15</span></span>
<span><span class="co">#  ad_creation_time    ad_creative_body ad_creative_lin… ad_creative_lin… </span></span>
<span><span class="co">#  &lt;dttm&gt;              &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;           </span></span>
<span><span class="co"># 1 2019-12-09 02:24:23 I believe in He… NA               NA              </span></span>
<span><span class="co"># 2 2019-12-09 00:24:56 Will you stand … act.actwireless… Legislators sho… </span></span>
<span><span class="co"># 3 2019-12-08 22:23:09 "https://youtu.… youtube.com      My name is Stev… </span></span>
<span><span class="co"># 4 2019-12-08 22:22:36 Will you stand … act.actwireless… Legislators sho… </span></span>
<span><span class="co"># 5 2019-12-08 21:53:34 "Sen. Warren fl… ma.publiceditor… Sen. Warren is … </span></span>
<span><span class="co"># 6 2019-12-08 21:45:55 "Marvin Lim for… www.marvinlimfo… NA               </span></span>
<span><span class="co"># … with 11 more variables: ad_delivery_stop_time &lt;dttm&gt;, currency &lt;chr&gt; ... </span></span></code></pre></div>
<p>As an example - we can display this data visually. Let’s use
<code>ggplot2</code> and visualize the top 20 page names by number of
ads created.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">results.tibble</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">page_name</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">page_name</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">summarize</span><span class="op">(</span>n <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">top_n</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">20</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">page_name</span>, <span class="va">n</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>stat<span class="op">=</span><span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">xlab</span><span class="op">(</span><span class="st">"Page Name"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ylab</span><span class="op">(</span><span class="st">"Count of Ads"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="example.png" style="display: block; margin: auto auto auto 0;"></p>
</div>
</div>
<div class="section level2">
<h2 id="generating-persistent-tokens">Generating Persistent Tokens<a class="anchor" aria-label="anchor" href="#generating-persistent-tokens"></a>
</h2>
<p>You may want to generate a persistent token that allows you to avoid
having to refresh your token every hour. You can use the
<code>App ID</code> and <code>App Secret</code> to generate a persistent
token that works for 60 days. It is important to store this secret
securely. To facilitate this, we’ve included functionality from <a href="https://cran.r-project.org/web/packages/keyring/index.html" class="external-link"><code>keyring</code>
library</a>.</p>
<p>To begin, run this command:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/adlib_setup.html">adlib_setup</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This will generate the following prompt:</p>
<pre><code>Visit https://developers.facebook.com/ and navigate to your App's basic settings
to find your Application ID and App Secret.
These will be securely stored in your computer's credential store.
Press &lt;Enter&gt;</code></pre>
<p>If you’ve already stored an Application ID at some point, you’ll also
receive a prompt as to whether or not you’d like to overwrite your
previously stored information.</p>
<p>You’ll then be asked via prompt to access and input your Application
ID and your App Secret. You can then run the
<code><a href="../reference/adlib_set_longterm_token.html">adlib_set_longterm_token()</a></code> command, follow the prompts, and
store your persistent access token within your system’s credential
store.</p>
<p>If you have a long-term token stored, <code>Radlibrary</code> will
find it automatically when you run <code>adlib_get</code></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">response</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adlib_get.html">adlib_get</a></span><span class="op">(</span>query <span class="op">=</span> <span class="va">query</span><span class="op">)</span></span></code></pre></div>
<p>You can also retrieve your stored token at any time with
<code><a href="../reference/token_get.html">token_get()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="pagination">Pagination<a class="anchor" aria-label="anchor" href="#pagination"></a>
</h2>
<p>You may want to retrieve more data than is available in a single API
call. The <code>Radlibary</code> package handles this with an easy
pagination implementation.</p>
<p>For example:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">query</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adlib_build_query.html">adlib_build_query</a></span><span class="op">(</span>ad_reached_countries <span class="op">=</span> <span class="st">'US'</span>, </span>
<span>                           ad_active_status <span class="op">=</span> <span class="st">'ALL'</span>, </span>
<span>                           impression_condition <span class="op">=</span> <span class="st">'HAS_IMPRESSIONS_LIFETIME'</span>, </span>
<span>                           search_terms <span class="op">=</span> <span class="st">"healthcare"</span>,</span>
<span>                           fields <span class="op">=</span> <span class="st">"ad_data"</span><span class="op">)</span> </span>
<span>  </span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adlib_get.html">adlib_get</a></span><span class="op">(</span><span class="va">query</span>, <span class="fu"><a href="../reference/token_get.html">token_get</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co"># [1] 1000   17</span></span></code></pre></div>
<p>versus</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">query</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adlib_build_query.html">adlib_build_query</a></span><span class="op">(</span>ad_reached_countries <span class="op">=</span> <span class="st">'US'</span>, </span>
<span>                           ad_active_status <span class="op">=</span> <span class="st">'ALL'</span>, </span>
<span>                           search_terms <span class="op">=</span> <span class="st">"healthcare"</span>,</span>
<span>                           fields <span class="op">=</span> <span class="st">"ad_data"</span><span class="op">)</span> </span>
<span><span class="va">result_paginated</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/adlib_get_paginated.html">adlib_get_paginated</a></span><span class="op">(</span><span class="va">query</span>, max_gets <span class="op">=</span> <span class="fl">10</span>, <span class="fu"><a href="../reference/token_get.html">token_get</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">df_paginated</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">result_paginated</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">df_paginated</span><span class="op">)</span></span>
<span><span class="co"># [1] 10000    17</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Colin Fraser, Kyle Shank. Copyright © Meta Platforms, Inc.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
